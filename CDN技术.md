什么是CDN？维基百科里对CDN（内容分发网络）的定义中最关键的就是利用最靠近每位用户的服务器实现可靠的内容分发。
当我们进行一个长链路访问时，这个链路上的传输速率，包括它的连通性很可能都会得不到保证，而CDN
正是利用其核心原理——将内容下沉到离用户最近的一个节点，让用户可以通过一些短链路去访问，从而
获得较好的分发效果。
###目的
解决因分布、带宽、服务器性能带来的访问延迟问题，适用于站点加速、点播、直播等场景。使用户
可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度和成功率。控制时延无
疑是现代信息科技的重要指标，CDN的意图就是尽可能的减少资源在转发、传输、链路抖动等情况下顺利保障
信息的连贯性。CDN就是扮演者护航者和加速者的角色，更快准狠的触发信息和触达每一个用户，带来更为极
致的使用体验。再通俗点说就是在网速一定的前提下，CDN就像网络中快递员小哥

###基础架构
####最简单的CDN网络由一个DNS服务器和几台缓存服务器组成
1、当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。

2、CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回用户。

3、用户向CDN的全局负载均衡设备发起内容URL访问请求。

4、CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。

5、区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址。
  
6、全局负载均衡设备把服务器的IP地址返回给用户。

7、用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。

###服务模式
简单地说，CDN是一个经策略性部署的整体系统，包括分布式存储、负载均衡、网络请求的重定向和内容管理4个要件，而内容管理和全局的网络流量管理(Traffic Management)是CDN的核心所在。通过用户就近性和服务器负载的判断，CDN确保内容以一种极为高效的方式为用户的请求提供服务。

